var yui=new Object();var timer_toast=0;var timer_loading=0;yui.clearInfo=function(){$('#yuiTempDom').find("#yuiToast").remove();$('#yuiTempDom').find("#yuiLoading").remove();clearTimeout(timer_toast);clearTimeout(timer_loading)};var yui_back_func='';yui.alert=function(){yui.clearInfo();var html_str='<div class="yui-alert" id="yuiAlert"><div class="yui-alert-box">';var msg=(typeof(arguments[0])!='undefined')?arguments[0].toString():'';yui_back_func=(typeof(arguments[1])!='undefined')?arguments[1].toString():'';var btn_text=(typeof(arguments[2])!='undefined')?arguments[2].toString():'';var title=(typeof(arguments[3])!='undefined')?arguments[3].toString():'';if(title.length>0){html_str+='<h3>'+title+'</h3>'}else{html_str+='<h3>温馨提示</h3>'}if(msg.length>0){html_str+='<p>'+msg+'</p>'}else{html_str+='<p>这里是默认提示语</p>'}if(btn_text.length>0){html_str+='<span class="btn" id="yuiAlertBtn">'+btn_text+'</span></div></div>'}else{html_str+='<span class="btn" id="yuiAlertBtn">确定</span></div></div>'}$('#yuiTempDom').find('#yuiAlert').remove();$('#yuiTempDom').append(html_str)};yui.funcTest=function(){yui.alert('回调函数呼叫成功!')};$('#yuiTempDom').delegate('#yuiAlertBtn','click',function(){$('#yuiTempDom').find('#yuiAlert').remove();if(yui_back_func.length>0){eval(yui_back_func);yui_back_func=''}});var yui_ok_func='';var yui_cancel_func='';yui.confirm=function(){yui.clearInfo();var html_str='<div class="yui-alert" id="yuiConfirm"><div class="yui-alert-box">';var msg=(typeof(arguments[0])!='undefined')?arguments[0].toString():'';yui_ok_func=(typeof(arguments[1])!='undefined')?arguments[1].toString():'';yui_cancel_func=(typeof(arguments[2])!='undefined')?arguments[2].toString():'';if(msg.length>0){html_str+='<p>'+msg+'</p>'}else{html_str+='<p>这里是默认提示语</p>'}html_str+='<dl class="btn"><dt id="yuiConfirmCancel">取消</dt><dd id="yuiConfirmOk">确定</dd></div></div>';$('#yuiTempDom').find('#yuiConfirm').remove();$('#yuiTempDom').append(html_str)};$('#yuiTempDom').delegate('#yuiConfirmCancel','click',function(){$('#yuiTempDom').find('#yuiConfirm').remove();if(yui_cancel_func.length>0){eval(yui_cancel_func);yui_cancel_func=''}});$('#yuiTempDom').delegate('#yuiConfirmOk','click',function(){$('#yuiTempDom').find('#yuiConfirm').remove();if(yui_ok_func.length>0){eval(yui_ok_func);yui_ok_func=''}});yui.prompt=function(){yui.clearInfo();var html_str='<div class="yui-alert" id="yuiPrompt"><div class="yui-alert-box"><div class="box">';var msg=(typeof(arguments[0])!='undefined')?arguments[0].toString():'';yui_back_func=(typeof(arguments[1])!='undefined')?arguments[1].toString():'';var input_val=(typeof(arguments[2])!='undefined')?arguments[2].toString():'';if(msg.length>0){html_str+='<div class="msg">'+msg+'</div>'}html_str+='<div class="yui-prompt"><input type="text" id="promptVal" value="'+input_val+'"></div>';html_str+='</div><dl class="btn"><dt id="yuiPromptCancel">关闭</dt><dd id="yuiPromtOk">确认</dd></div></div>';$('#yuiTempDom').find('#yuiPrompt').remove();$('#yuiTempDom').append(html_str)};$('#yuiTempDom').delegate('#yuiPromtOk','click',function(e){var ev=e||window.event;ev.stopPropagation();eval(yui_back_func);yui_back_func='';$('#yuiPrompt').remove()});$('#yuiTempDom').delegate('#yuiPromptCancel','click',function(e){$('#yuiTempDom').find('#yuiPrompt').remove()});yui.dialog=function(){yui.clearInfo();var html_str='<div class="yui-dialog-mask" id="yuiDialogMask"><div class="yui-dialog" id="yuiDialog">';var obj=(typeof(arguments[0])!='undefined')?arguments[0]:'';var content=(typeof(arguments[1])!='undefined')?arguments[1].toString():'';if(content.length>0){html_str+=content}html_str+='</div></div>';$('#yuiTempDom').find('#yuiDialog').remove();$('#yuiTempDom').append(html_str);$("#yuiDialog").css({'left':obj.x,'top':obj.y});$("#yuiDialogMask").show()};$("body").delegate('#yuiDialogMask','click',function(){$(this).remove()});yui.panel=function(){yui.clearInfo();var title=(typeof(arguments[0])!='undefined')?arguments[0].toString():'';var html_tag=(typeof(arguments[1])!='undefined')?arguments[1].toString():'';yui_back_func=(typeof(arguments[0])!='undefined')?arguments[2].toString():'';var style=(typeof(arguments[3])!='undefined')?arguments[3].toString():'';var target_dom=(typeof(arguments[4])!='undefined')?arguments[4].toString():'#yuiTempDom';var html_str='<div class="yui-alert yuiPanel"><div class="yui-panel-box" style="'+style+'">';html_str+='<h3 class="panel_title">'+title+'</h3><span data-target="'+target_dom+'" class="yicon close-panel closePanel">&#xe615;</span>';html_str+='<div class="yui-panel-content">';html_str+=html_tag;html_str+='</div></div></div>';$(target_dom).find('.yuiPanel').remove();$(target_dom).html(html_str)};$('body').delegate('.closePanel','click',function(){if(yui_back_func.length>0){eval(yui_back_func);yui_back_func=''}var target_dom=$(this).data('target');$(target_dom).find('.yuiPanel').remove()});yui.toast=function(msg){yui.clearInfo();var html_str='<div class="yui-toast" id="yuiToast">';html_str+=msg;html_str+='</div>';$('#yuiTempDom').append(html_str);timer_toast=setTimeout(function(){$('#yuiTempDom').find('#yuiToast').remove()},3000);return false};$("body").delegate('.yui-icon-clear','click',function(){$(this).hide();$(this).siblings('input').val('')});$('.yuiSearchInput').keyup(function(e){var words=$.trim($(this).val());if(words.length>0){$(this).siblings('.yui-icon-clear').show()}var ev=e||window.event;if(ev.keyCode==13){var href=$(this).data('href');if(href.length<5){yui.alert('请设置目标搜索页');return false}location.href=href+'&words='+encodeURIComponent(words)}});yui.loading=function(msg){yui.clearInfo();var html_str='<div class="yui-loading" id="yuiLoading"><div class="yui-loading-box"><span class="yui-icon-loading yicon">&#xe6dd;</span>';if(typeof(msg)!='undefined'){html_str+='<p class="text">'+msg+'</p>'}else{html_str+='<p class="text">加载中...</p>'}html_str+='</div></div>';var second=(typeof(arguments[1])!='undefined')?parseInt(arguments[1]):5;if(second==0){return false}second*=1000;if(second>0){$('#yuiTempDom').append(html_str)}timer_loading=setTimeout(function(){$('#yuiTempDom').find("#yuiLoading").remove()},second)};$('body').delegate(".yui-tag-title li, .yui-tag-rect li, .yui-tag-circle li",'click',function(){$(this).siblings().removeClass('active');$(this).addClass('active');var id_name=$(this).data('target');if(typeof(id_name)!='undefined'){$(id_name).siblings().removeClass('active');$(id_name).addClass('active')}});var yui_slide_timer=new Object();yui.slide=function(slide_obj,img_total,tag,num,effect,second){effect=(typeof(arguments[4])!='undefined')?arguments[4].toString():'left';second=(typeof(arguments[5])!='undefined')?arguments[5]:5;switch(effect){case'left':var obj_width=$(slide_obj).width();$(slide_obj).find("li:first").animate({'margin-left':-obj_width},'slow',function(){$(this).appendTo($(slide_obj)).css('margin-left',0)});break;case'top':var obj_height=$(slide_obj).height();$(slide_obj).find("li:first").animate({'margin-top':-obj_height},'slow',function(){$(this).appendTo($(slide_obj)).css('margin-top',0)});break;case'fadeOut':var z_index=10;$(slide_obj+" li").each(function(k,v){$(v).css('z-index',z_index);z_index--});$(slide_obj).find("li:first").fadeOut('slow',function(){$(this).appendTo($(slide_obj)).css('z-index',1).fadeIn(0)});break}$(slide_obj).siblings('.yui-slide-num').find('li').removeClass('hover');var obj=$(slide_obj).siblings('.yui-slide-num').children();$(obj[num]).addClass('hover');num++;if(num>=img_total){num=0}if(num<0){num=(img_total-1)}var slide_index=slide_obj.replace('#','');if(tag==1){clearTimeout(yui_slide_timer[slide_index])}yui_slide_timer[slide_index]=setTimeout(function(){yui.slide(slide_obj,img_total,0,num,effect,second)},second*1000);$(window).focus(function(){clearTimeout(yui_slide_timer[slide_index]);yui_slide_timer[slide_index]=setTimeout(function(){yui.slide(slide_obj,img_total,0,num,direction)},5000)});$(window).blur(function(){clearTimeout(yui_slide_timer[slide_index])})};$("body").delegate(".yui-list-text li",'click',function(){var id_name=$(this).data('target');if(typeof(id_name)!='undefined'){if($(id_name).css('display')=='none'){$(this).find('.yicon-arrow-down').removeClass('yicon-arrow-down').addClass('yicon-arrow-up');$(id_name).css('display','flex')}else{$(this).find('.yicon-arrow-up').removeClass('yicon-arrow-up').addClass('yicon-arrow-down');$(id_name).hide()}}});$("body").delegate('.yui-switch-on','click',function(){$(this).find('em').animate({'width':28},200);$(this).attr('class','yui-switch-off')});$("body").delegate('.yui-switch-off','click',function(){$(this).find('em').animate({'width':28},100);$(this).attr('class','yui-switch-on')});if($(".yui-notice a").length>0){yui.noticeScroll=function(){$('.yui-notice a:first').animate({'margin-top':-20},500,function(){$(this).appendTo($('.yui-notice dd'));$(this).removeAttr('style')})};setInterval('yui.noticeScroll()',2000)}var yui_form_callback='';var yui_form_kv={};var yui_form_submit=false;var yui_form_error=0;$("body, #yuiTempDom").delegate("form.useVerify",'submit',function(){if(yui_form_submit==true){yui.loading('正在提交');return false}yui_form_submit=true;yui_form_error=0;var submit_btn=$(this).find('input[type="submit"]');if(typeof($(submit_btn).data('callback'))!='undefined'){yui_form_callback=$(submit_btn).data('callback')}$(submit_btn).prop('disabled',true);var val_text=$(submit_btn).val();$(submit_btn).val('正在提交,请稍后...');setTimeout(function(){$(submit_btn).val(val_text);$(submit_btn).prop('disabled',false)},2000);var form_obj=$(this).find('input, textarea, select');$.each(form_obj,function(k,obj_check_input){if(typeof($(obj_check_input).attr('name'))=='string'){var temp_name=$.trim($(obj_check_input).attr('name').replace('[]',''));var input_name=$.trim($(obj_check_input).attr('name'));if(input_name.indexOf('[]')==-1){var rs=yui.checkForm(obj_check_input,temp_name);if(rs==false){return false}}else{yui_form_kv[temp_name]=new Array();$.each($("form.useVerify input[type='checkbox'][name='"+temp_name+"[]']"),function(k2,v2){if($(v2).prop('checked')==true){yui_form_kv[temp_name].push($(v2).val())}});$.each($("form.useVerify input[type='text'][name='"+temp_name+"[]']"),function(k2,v2){yui_form_kv[temp_name].push($(v2).val())});$.each($("form.useVerify textarea[name='"+temp_name+"[]']"),function(k2,v2){yui_form_kv[temp_name].push($(v2).val())});$.each($("form.useVerify select[name='"+temp_name+"[]']"),function(k2,v2){yui_form_kv[temp_name].push($(v2).val())});var rs=yui.checkForm(obj_check_input,temp_name,yui_form_kv[temp_name]);if(rs==false){return false}}}});yui_form_submit=false;if(yui_form_error==0&&yui_form_callback.length>0){eval(yui_form_callback+'('+JSON.stringify(yui_form_kv)+')');return false}if(yui_form_error==0){return true}else{return false}});$("body, #yuiTempDom").delegate("form.useVerify input, form.useVerify textarea, form.useVerify select",'blur',function(){if(yui_form_submit==true){return false}if(typeof($(this).attr('name'))=='string'){if($(this).attr('name').indexOf('[]')==-1){var temp_name=$.trim($(this).attr('name'));yui.checkForm($(this),temp_name)}}});yui.checkForm=function(obj_check_input,temp_name,array_input_values){if($(obj_check_input).attr('type')=='radio'){if($(obj_check_input).prop('checked')==true){yui_form_kv[temp_name]=$.trim($(obj_check_input).val())}}else{if(arguments[2]){yui_form_kv[temp_name]=array_input_values}else{yui_form_kv[temp_name]=$.trim($(obj_check_input).val())}}var data_rule=$(obj_check_input).data('rule');if(typeof(data_rule)=='string'){if(data_rule.length>0){var error_msg='';var error_msg_only='';if(typeof($(obj_check_input).data('msg_only'))=='string'){error_msg_only=$(obj_check_input).data('msg_only')}if(typeof($(obj_check_input).data('msg'))=='string'){error_msg+=$(obj_check_input).data('msg')}var check_rule=$(obj_check_input).data('rule');var data_rule_arr=check_rule.split(';');var temp_val=$.trim($(obj_check_input).val());if($.inArray('required',data_rule_arr)!=-1&&temp_val.length==0){if(error_msg_only.length>0){error_msg=error_msg_only}else{error_msg+='不能为空'}yui_form_error++;yui.toast(error_msg);$(obj_check_input).addClass('yui-check-danger');return false}else{$(obj_check_input).removeClass('yui-check-danger')}if(check_rule.indexOf('radio')!=-1){var obj_radio=$(obj_check_input).parent().parent().find('input[type="radio"]');var change_num=0;$(obj_radio).each(function(k,v){if($(v).prop('checked')==true){change_num++}});if(change_num==0){yui_form_error++;yui.toast(error_msg_only);$(obj_check_input).addClass('yui-check-danger');return false}}else{$(obj_check_input).removeClass('yui-check-danger')}if(check_rule.indexOf('checkbox')!=-1){var obj_checkbox=$(obj_check_input).parent().parent().find('input[type="checkbox"]');var change_num=0;$(obj_checkbox).each(function(k,v){if($(v).prop('checked')==true){change_num++}});var have_error=0;if(check_rule.indexOf('number')!=-1){var rule_temp=check_rule.split(';');var rule=rule_temp[2].replace('number(','').replace(')','');if(rule.indexOf('~')!=-1){var rule_arr=rule.split('~');if($.trim(rule_arr[1])==''){if(change_num<rule_arr[0]){have_error++}}if($.trim(rule_arr[1])!=''){if(change_num<rule_arr[0]||change_num>rule_arr[1]){have_error++}}}}if(have_error>0){yui_form_error++;yui.toast(error_msg_only);$(obj_check_input).addClass('yui-check-danger');return false}}else{$(obj_check_input).removeClass('yui-check-danger')}if(check_rule.indexOf('select')!=-1){var obj_select=$(obj_check_input).parent().parent().find('select');var change_num=0;$(obj_select).each(function(k,v){if($(v).val()>0){change_num++}});var have_error=0;if(check_rule.indexOf('number')!=-1){var rule_temp=check_rule.split(';');var rule=rule_temp[2].replace('number(','').replace(')','');if(rule.indexOf('~')!=-1){var rule_arr=rule.split('~');if($.trim(rule_arr[1])==''){if(change_num<rule_arr[0]){have_error++}}if($.trim(rule_arr[1])!=''){if(change_num<rule_arr[0]||change_num>rule_arr[1]){have_error++}}}}if(have_error>0){yui_form_error++;yui.toast(error_msg_only);$(obj_check_input).addClass('yui-check-danger');return false}}else{$(obj_check_input).removeClass('yui-check-danger')}if(temp_val.length>0){if($.inArray('mobile',data_rule_arr)!=-1){var regex=/^1[34578]{1}[0-9]{9}$/;if(!regex.test(temp_val)){if(error_msg_only.length>0){error_msg=error_msg_only}else{error_msg+='手机号码格式有误'}yui_form_error++;yui.toast(error_msg);$(obj_check_input).addClass('yui-check-danger');return false}}else{$(obj_check_input).removeClass('yui-check-danger')}if($.inArray('email',data_rule_arr)!=-1){var regex=/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/;if(!regex.test(temp_val)){if(error_msg_only.length>0){error_msg=error_msg_only}else{error_msg+='邮箱格式有误'}yui_form_error++;yui.toast(error_msg);$(obj_check_input).addClass('yui-check-danger');return false}}else{$(obj_check_input).removeClass('yui-check-danger')}if($.inArray('date',data_rule_arr)!=-1){var regex=/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/;if(!regex.test(temp_val)){if(error_msg_only.length>0){error_msg=error_msg_only}else{error_msg+='标准日期格式:2016-08-08'}yui_form_error++;yui.toast(error_msg);$(obj_check_input).addClass('yui-check-danger');return false}}else{$(obj_check_input).removeClass('yui-check-danger')}if($.inArray('password',data_rule_arr)!=-1){var regex=/^[a-z]+[0-9]*.*$/gi;if(temp_val.length<6||temp_val.length>32||!regex.test(temp_val)){if(error_msg_only.length>0){error_msg=error_msg_only}else{error_msg+='必须字母开头,长度6~32个字符'}yui_form_error++;yui.toast(error_msg);$(obj_check_input).addClass('yui-check-danger');return false}}else{$(obj_check_input).removeClass('yui-check-danger')}if($.inArray('tel',data_rule_arr)!=-1){var regex=/^(0[0-9]{2,3}\-)?([2-9]{1}[0-9]{6,7})+(\-[0-9]{1,4})?$/;if(!regex.test(temp_val)){if(error_msg_only.length>0){error_msg=error_msg_only}else{error_msg+='固话格式有误'}yui_form_error++;yui.toast(error_msg);$(obj_check_input).addClass('yui-check-danger');return false}}else{$(obj_check_input).removeClass('yui-check-danger')}if(check_rule.indexOf('length')!=-1){var temp_rule='';$(data_rule_arr).each(function(ik,io){if(io.indexOf('length')!=-1){temp_rule=io}});var rule=temp_rule.replace('length(','').replace(')','');var have_error=0;if(rule.indexOf('~')!=-1){var rule_arr=rule.split('~');error_msg_temp='';if(rule_arr[0].length>0){if(temp_val.length<rule_arr[0]){have_error++;error_msg_temp='长度至少:'+rule_arr[0]+'个字符'}}if(rule_arr[1]){if(rule_arr[1].length>0){if(temp_val.length>rule_arr[1]){have_error++;error_msg_temp='长度必须在:'+rule_arr[0]+'-'+rule_arr[1]+'个字符之间'}}}error_msg+=error_msg_temp}else{if(temp_val.length!=rule){have_error++;error_msg+='只能填写'+rule+'个字符'}}if(have_error>0){if(error_msg_only.length>0){error_msg=error_msg_only}yui_form_error++;yui.toast(error_msg);$(obj_check_input).addClass('yui-check-danger');return false}}else{$(obj_check_input).removeClass('yui-check-danger')}if(check_rule.indexOf('range')!=-1){var temp_rule='';$(data_rule_arr).each(function(ik,io){if(io.toString().indexOf('range')!=-1){temp_rule=io.toString()}});var rule=temp_rule.replace('range(','').replace(')','');var have_error=0;if(rule.indexOf('~')!=-1){var rule_arr=rule.split('~');error_msg_temp='';if(rule_arr[0].length>0){if(temp_val<parseFloat(rule_arr[0])){have_error++;error_msg_temp='必须大于等于:'+rule_arr[0]}}if(rule_arr[1]){if(rule_arr[1].length>0){if(temp_val>parseFloat(rule_arr[1])){have_error++;error_msg_temp='必须在:'+rule_arr[0]+'-'+rule_arr[1]+'之间'}}}error_msg+=error_msg_temp}else{if(temp_val!=rule){have_error++;error_msg+='必须等于:'+rule}}if(have_error>0){if(error_msg_only.length>0){error_msg=error_msg_only}yui_form_error++;yui.toast(error_msg);$(obj_check_input).addClass('yui-check-danger');return false}else{$(obj_check_input).removeClass('yui-check-danger')}}}}}};var url_get_arr=new Array();yui.get=function(){var param_name=(typeof(arguments[0])!='undefined')?arguments[0].toString():'';if(param_name.length==0){return''}if(url_get_arr.length==0){var url=location.href;var url_arr=url.split('?');var url_target=url.split('#');if(typeof(url_arr[1])=='undefined'&&param_name!='#'){return''}var target='';if(typeof(url_target[1])!='undefined'){target=url_target[1]}if(param_name=='#'){return target}var url_arr2=url_arr[1];if(target.length>0){if(url_target[0].indexOf('?')!=-1){var url_temp_arr=url_target[0].split('?');url_arr2=url_temp_arr[1]}}var url_param_arr=url_arr2.split('&');$(url_param_arr).each(function(k,v){var temp_arr=v.split('=');if(typeof(temp_arr[1])!='undefined'){url_get_arr[temp_arr[0]]=temp_arr[1]}else{url_get_arr[temp_arr[0]]=''}})}if(typeof(url_get_arr[param_name])=='undefined'){return''}else{return url_get_arr[param_name]}};var obj_current_calendar=null;$("body").delegate("label.date input",'click',function(e){obj_current_calendar=$(this);var ev=e||window.event;ev.stopPropagation();var obj_date=new Date();var today_date=obj_date.getFullYear()+'-'+(obj_date.getMonth()+1)+'-'+obj_date.getDate();var input_val=$.trim($(this).val());if(input_val.length>=5){today_date=input_val}var date_arr=today_date.split('-');var current_year=parseInt(date_arr[0]);var current_month=parseInt(date_arr[1]);var current_day=parseInt(date_arr[2]);if(current_year<0){current_year=0}if(current_month<1||current_month>12){current_month=obj_date.getMonth()}if(current_day<1||current_day>31){current_day=obj_date.getDate()}if(input_val.length>0){var temp_m=current_month;var temp_d=current_day;if(temp_m<10){temp_m='0'+temp_m}if(temp_d<10){temp_d='0'+temp_d}$(this).val(current_year+'-'+temp_m+'-'+temp_d)}var start_date_obj=new Date(current_year+'-'+current_month+'-1');var start_week=start_date_obj.getDay();var end_num=getMonthEndDay(current_year,current_month);var end_date_obj=new Date(current_year+'-'+current_month+'-'+end_num);var end_week=end_date_obj.getDay();var html_str='<div class="yui-calendar" id="yuiCalendar">';html_str+='<ul class="date-title yicon"><li id="yuiPrevYear">&#xe679;</li><li id="yuiPrevMonth">&#xe618;</li>';html_str+='<li class="current-date" id="yuiCurrentDate">'+today_date+'</li>';html_str+='<li id="yuiNextMonth">&#xe64f;</li><li id="yuiNextYear">&#xe67a;</li></ul>';html_str+='<ul class="date-week-list"><li>日</li><li>一</li><li>二</li><li>三</li><li>四</li><li>五</li><li>六</li></ul>';html_str+='<ol class="date-day-list" id="yuiDateDayList">';if(start_week>0){var prev_year=0;var prev_month=1;if(current_month>1){prev_year=current_year;prev_month=current_month-1}else{prev_year=current_year-1;if(prev_year<0){prev_year=0}prev_month=12}var prev_end_day_num=getMonthEndDay(prev_year,prev_month);var prev_start_day_num=prev_end_day_num-start_week+1;if(prev_month<10){prev_month='0'+prev_month}for(var d=prev_start_day_num;d<=prev_end_day_num;d++){var day_temp=d;if(d<10){day_temp='0'+d}html_str+='<li class="other" data-date="'+prev_year+'-'+prev_month+'-'+day_temp+'">'+d+'</li>'}}var month_temp=current_month;if(current_month<10){month_temp='0'+current_month}for(var d=1;d<=end_num;d++){var day_temp=d;if(d<10){day_temp='0'+d}var data_date=current_year+'-'+month_temp+'-'+day_temp;if(d==current_day){html_str+='<li class="active" data-date="'+data_date+'">'+d+'</li>'}else{html_str+='<li data-date="'+data_date+'">'+d+'</li>'}}if(end_week<6){var next_year=0;var next_month=1;if(current_month<12){next_year=current_year;next_month=current_month+1}else{next_year=current_year+1;if(next_year>9999){next_year=9999}next_month=1}var next_end_day_num=7-end_week-1;var month_temp=next_month;if(next_month<10){month_temp='0'+next_month}for(var d=1;d<=next_end_day_num;d++){var day_temp=d;if(d<10){day_temp='0'+d}html_str+='<li class="other" data-date="'+next_year+'-'+month_temp+'-'+day_temp+'">'+d+'</li>'}}html_str+='</ol>';var obj=$(this).offset();if($('#yuiTempDom').find('#yuiCalendar').length==1){$('#yuiTempDom').find('#yuiCalendar').remove()}$('#yuiTempDom').append(html_str);var top_val=obj.top+30;var calendar_box_height=$("#yuiCalendar").height();if($("body").height()-top_val<calendar_box_height){top_val=obj.top-calendar_box_height-25}$("#yuiCalendar").css({'left':obj.left,'top':top_val});$("#yuiCalendar").show()});$("body").click(function(){if($('#yuiTempDom').find('#yuiCalendar').length==1){$('#yuiTempDom').find('#yuiCalendar').remove()}});function getMonthEndDay(year_num,month_num){var end_num=31;if($.inArray(month_num,[4,6,9,11])){end_num=30}if(month_num==2){if(year_num%4==0){end_num=29}else{end_num=28}}return end_num}$("#yuiTempDom").delegate('#yuiPrevYear','click',function(e){var ev=e||window.event;ev.stopPropagation();var current_date=$('#yuiCurrentDate').text();var date_arr=current_date.split('-');var year=parseInt(date_arr[0]);var month=parseInt(date_arr[1]);var day=parseInt(date_arr[2]);year=year-1;if(year<0){year=0}if(month<10){month='0'+month}if(day<10){day='0'+day}$(obj_current_calendar).val(year+'-'+month+'-'+day);$(obj_current_calendar).click()});$("#yuiTempDom").delegate('#yuiNextYear','click',function(e){var ev=e||window.event;ev.stopPropagation();var current_date=$('#yuiCurrentDate').text();var date_arr=current_date.split('-');var year=parseInt(date_arr[0]);var month=parseInt(date_arr[1]);var day=parseInt(date_arr[2]);year=year+1;if(year>9999){year=9999}if(month<10){month='0'+month}if(day<10){day='0'+day}$(obj_current_calendar).val(year+'-'+month+'-'+day);$(obj_current_calendar).click()});$("#yuiTempDom").delegate('#yuiPrevMonth','click',function(e){var ev=e||window.event;ev.stopPropagation();var current_date=$('#yuiCurrentDate').text();var date_arr=current_date.split('-');var year=parseInt(date_arr[0]);var month=parseInt(date_arr[1]);var day=parseInt(date_arr[2]);month=month-1;if(month<1){month=12;year-=1}if(year<0){year=0}if(month<10){month='0'+month}if(day<10){day='0'+day}$(obj_current_calendar).val(year+'-'+month+'-'+day);$(obj_current_calendar).click()});$("#yuiTempDom").delegate('#yuiNextMonth','click',function(e){var ev=e||window.event;ev.stopPropagation();var current_date=$('#yuiCurrentDate').text();var date_arr=current_date.split('-');var year=parseInt(date_arr[0]);var month=parseInt(date_arr[1]);var day=parseInt(date_arr[2]);month=month+1;if(month>12){month=1;year+=1}if(year>9999){year=9999}if(month<10){month='0'+month}if(day<10){day='0'+day}$(obj_current_calendar).val(year+'-'+month+'-'+day);$(obj_current_calendar).click()});$("#yuiTempDom").delegate('#yuiDateDayList li','click',function(e){var ev=e||window.event;ev.stopPropagation();$(obj_current_calendar).val($(this).data('date'));$("#yuiCalendar").remove()});$('body,#yuiTempDom').delegate('.yui-select-write input[type="text"]','keyup',function(e){var ev=e||window.event;ev.stopPropagation();var str=$.trim($(this).val());if(str.length>0){$(this).siblings('.data-list').show(0)}});$('body,#yuiTempDom').delegate('.yui-select-write input[type="text"], .yui-select-write .arrow-down','click',function(e){var ev=e||window.event;ev.stopPropagation();$("#yuiTempDom").find('#yuiCalendar').hide(0);$(this).siblings('.data-list').show(0)});$('body,#yuiTempDom').delegate('.data-list li','click',function(e){var ev=e||window.event;ev.stopPropagation();$(this).parent().hide(0);$(this).parents('.data-list').siblings('input[type="text"]').val($.trim($(this).text()));$(this).parents('.data-list').siblings('input[type="hidden"]').val($(this).data('value'))});$("body").click(function(){if($(this).find('.yui-select-write .data-list').length==1){$(this).find('.yui-select-write .data-list').hide(0)}});$("body").delegate('input[type="file"]','change',function(){$(this).siblings('.text').text('已选择，等待上传')});